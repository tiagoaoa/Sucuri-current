<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 280">
  <defs>
    <marker id="arrowhead3" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#4a90d9"/>
    </marker>
  </defs>

  <!-- Title -->
  <text x="200" y="20" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#333">calc_pi.py - Pi Calculation (Fan-in Reduction)</text>

  <!-- Feeder 0 -->
  <rect x="30" y="50" width="70" height="35" rx="5" fill="#e8f4e8" stroke="#4caf50" stroke-width="2"/>
  <text x="65" y="72" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#333">Feeder[0]</text>

  <!-- Feeder 1 -->
  <rect x="120" y="50" width="70" height="35" rx="5" fill="#e8f4e8" stroke="#4caf50" stroke-width="2"/>
  <text x="155" y="72" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#333">Feeder[1]</text>

  <!-- Feeder 2 -->
  <rect x="210" y="50" width="70" height="35" rx="5" fill="#e8f4e8" stroke="#4caf50" stroke-width="2"/>
  <text x="245" y="72" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#333">Feeder[2]</text>

  <!-- Feeder n-1 -->
  <rect x="300" y="50" width="70" height="35" rx="5" fill="#e8f4e8" stroke="#4caf50" stroke-width="2"/>
  <text x="335" y="72" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#333">Feeder[n-1]</text>

  <!-- Dots -->
  <text x="285" y="70" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#666">...</text>

  <!-- psum nodes -->
  <rect x="30" y="120" width="70" height="35" rx="5" fill="#e3f2fd" stroke="#2196f3" stroke-width="2"/>
  <text x="65" y="142" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#333">psum[0]</text>

  <rect x="120" y="120" width="70" height="35" rx="5" fill="#e3f2fd" stroke="#2196f3" stroke-width="2"/>
  <text x="155" y="142" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#333">psum[1]</text>

  <rect x="210" y="120" width="70" height="35" rx="5" fill="#e3f2fd" stroke="#2196f3" stroke-width="2"/>
  <text x="245" y="142" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#333">psum[2]</text>

  <rect x="300" y="120" width="70" height="35" rx="5" fill="#e3f2fd" stroke="#2196f3" stroke-width="2"/>
  <text x="335" y="142" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#333">psum[n-1]</text>

  <!-- Dots -->
  <text x="285" y="140" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#666">...</text>

  <!-- Reducer -->
  <rect x="140" y="210" width="120" height="40" rx="5" fill="#fff3e0" stroke="#ff9800" stroke-width="2"/>
  <text x="200" y="228" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#333">Node(sum_total, n)</text>
  <text x="200" y="243" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">Reducer R</text>

  <!-- Edges Feeder -> psum -->
  <line x1="65" y1="85" x2="65" y2="120" stroke="#4a90d9" stroke-width="2" marker-end="url(#arrowhead3)"/>
  <line x1="155" y1="85" x2="155" y2="120" stroke="#4a90d9" stroke-width="2" marker-end="url(#arrowhead3)"/>
  <line x1="245" y1="85" x2="245" y2="120" stroke="#4a90d9" stroke-width="2" marker-end="url(#arrowhead3)"/>
  <line x1="335" y1="85" x2="335" y2="120" stroke="#4a90d9" stroke-width="2" marker-end="url(#arrowhead3)"/>

  <!-- Edges psum -> Reducer -->
  <line x1="65" y1="155" x2="160" y2="210" stroke="#4a90d9" stroke-width="2" marker-end="url(#arrowhead3)"/>
  <line x1="155" y1="155" x2="180" y2="210" stroke="#4a90d9" stroke-width="2" marker-end="url(#arrowhead3)"/>
  <line x1="245" y1="155" x2="220" y2="210" stroke="#4a90d9" stroke-width="2" marker-end="url(#arrowhead3)"/>
  <line x1="335" y1="155" x2="240" y2="210" stroke="#4a90d9" stroke-width="2" marker-end="url(#arrowhead3)"/>

  <!-- Port labels -->
  <text x="100" y="190" font-family="Arial, sans-serif" font-size="8" fill="#666">port 0</text>
  <text x="165" y="190" font-family="Arial, sans-serif" font-size="8" fill="#666">port 1</text>
  <text x="230" y="190" font-family="Arial, sans-serif" font-size="8" fill="#666">port 2</text>
  <text x="280" y="190" font-family="Arial, sans-serif" font-size="8" fill="#666">port n-1</text>
</svg>
